---
let bowlers = []
let teams = []
try {
  const b = await fetch('http://localhost:3000/bowlers');
  bowlers = await b.json();
  const t = await fetch('http://localhost:3000/teams');
  teams = await t.json();

} catch (error) {
  console.error('Failed to fetch API:', error);
}
---
<table>
    <thead>
      <tr>
        <th>Name</th>
        <th>HDCP</th>
        <th>1</th>
        <th>2</th>
        <th>3</th>
        <th>Total</th>
      </tr>
    </thead>
    <tbody>
      {bowlers.map(bowler => (
        <tr key={bowler.firstName + bowler.lastName}>
          <td>{`${bowler.firstName} ${bowler.lastName}`}</td>
          <td>HDCP Here</td>
          <td><input type="text" name={`game1_${bowler.lastName}`} /></td>
          <td><input type="text" name={`game2_${bowler.lastName}`} /></td>
          <td><input type="text" name={`game3_${bowler.lastName}`} /></td>
          <td>Total Score Here</td>
        </tr>
      ))}
    </tbody>
  </table>